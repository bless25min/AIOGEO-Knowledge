name: ğŸ›¡ï¸ å…§å®¹ä¿è­·å¼å®Œç¾æ¬é·

on:
  workflow_dispatch:

permissions:
  contents: write
  pages: write
  id-token: write

jobs:
  safe-migration:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v4
      with:
        fetch-depth: 0

    - name: Gitè¨­å®š
      run: |
        git config user.name "AIOGEO Safe Migration"
        git config user.email "action@github.com"

    - name: è©³ç´°å…§å®¹æ¸…é»
      run: |
        echo "ğŸ“Š è©³ç´°å…§å®¹æ¸…é»é–‹å§‹..."
        echo "==================================="
        
        echo "ğŸ“ ç•¶å‰ç›®éŒ„çµæ§‹ï¼š"
        find . -type f -name "*.md" | head -20
        echo ""
        
        echo "ğŸ“ Backupç›®éŒ„æª¢æŸ¥ï¼š"
        if [ -d "backup" ]; then
          find backup -type f -name "*.md" | head -20
        else
          echo "âŒ æ²’æœ‰æ‰¾åˆ°backupç›®éŒ„"
        fi
        echo ""
        
        echo "ğŸ“ Postsç›®éŒ„æª¢æŸ¥ï¼š"
        if [ -d "posts" ]; then
          ls -la posts/
        else
          echo "âŒ æ²’æœ‰postsç›®éŒ„"
        fi
        echo ""
        
        echo "ğŸ“ Toolsç›®éŒ„æª¢æŸ¥ï¼š"
        if [ -d "tools" ]; then
          ls -la tools/
        else
          echo "âŒ æ²’æœ‰toolsç›®éŒ„"
        fi
        echo "==================================="

    - name: å®‰å…¨å…§å®¹æ¢å¾©
      run: |
        echo "ğŸ”„ é–‹å§‹å®‰å…¨å…§å®¹æ¢å¾©..."
        
        # å‰µå»ºå¿…è¦ç›®éŒ„
        mkdir -p posts tools assets
        
        # å‚™ä»½ç•¶å‰ç‹€æ…‹
        mkdir -p emergency_backup_$(date +%Y%m%d_%H%M%S)
        BACKUP_NAME="emergency_backup_$(date +%Y%m%d_%H%M%S)"
        
        # å¾backupç›®éŒ„æ¢å¾©
        if [ -d "backup" ]; then
          echo "ğŸ“‚ ç™¼ç¾backupç›®éŒ„ï¼Œé–‹å§‹æ¢å¾©..."
          
          # æ¢å¾©postså…§å®¹
          if [ -d "backup/posts" ]; then
            cp -v backup/posts/*.md posts/ 2>/dev/null || true
            echo "âœ… å·²æ¢å¾©postså…§å®¹"
          fi
          
          # æ¢å¾©toolså…§å®¹  
          if [ -d "backup/tools" ]; then
            cp -v backup/tools/*.md tools/ 2>/dev/null || true
            echo "âœ… å·²æ¢å¾©toolså…§å®¹"
          fi
          
          # æ¢å¾©æ ¹ç›®éŒ„Markdown
          for file in backup/*.md; do
            if [ -f "$file" ]; then
              cp -v "$file" . 2>/dev/null || true
            fi
          done
          
          echo "âœ… backupæ¢å¾©å®Œæˆ"
        fi
        
        # æª¢æŸ¥æ¢å¾©çµæœ
        echo "ğŸ“Š æ¢å¾©å¾Œå…§å®¹æª¢æŸ¥ï¼š"
        echo "Posts: $(ls posts/*.md 2>/dev/null | wc -l) å€‹æª”æ¡ˆ"
        echo "Tools: $(ls tools/*.md 2>/dev/null | wc -l) å€‹æª”æ¡ˆ" 
        echo "æ ¹ç›®éŒ„: $(ls *.md 2>/dev/null | wc -l) å€‹æª”æ¡ˆ"

    - name: å®‰è£Pandocè½‰æ›å™¨
      run: |
        echo "ğŸ“¦ å®‰è£å°ˆæ¥­Markdownè½‰æ›å™¨..."
        sudo apt-get update
        sudo apt-get install -y pandoc

    - name: å°ˆæ¥­Markdownè½‰HTML
      run: |
        echo "ğŸ¨ é–‹å§‹å°ˆæ¥­Markdownè½‰HTMLè½‰æ›..."
        
        # è½‰æ›å‡½æ•¸
        convert_with_pandoc() {
          local input_file="$1"
          local output_file="$2"
          local title="$3"
          
          if [ ! -f "$input_file" ]; then
            echo "âš ï¸ æª”æ¡ˆä¸å­˜åœ¨: $input_file"
            return
          fi
          
          echo "ğŸ”„ è½‰æ›: $input_file -> $output_file"
          
          # ä½¿ç”¨Pandocé€²è¡Œé«˜å“è³ªè½‰æ›ï¼Œä¿æŒæ‰€æœ‰æ ¼å¼
          pandoc "$input_file" \
            --from markdown \
            --to html \
            --standalone \
            --metadata title="$title | AIOGEO çŸ¥è­˜åº«" \
            --css "/assets/style.css" \
            --template <(cat << 'TEMPLATE_END'
        <!DOCTYPE html>
        <html lang="zh-TW">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>$title$</title>
          <meta name="description" content="$title$ - AIOGEOçŸ¥è­˜åº«å°ˆæ¥­å…§å®¹">
          <meta name="author" content="å»–å¤©ä½‘ Bless Liao">
          <meta property="og:title" content="$title$">
          <meta property="og:type" content="article">
          <meta property="og:url" content="https://bless25min.github.io/AIOGEO-Knowledge/$output_file$">
          
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body { 
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans TC', sans-serif; 
              line-height: 1.8; color: #1f2937; background: #f9fafb; 
            }
            .container { max-width: 900px; margin: 0 auto; background: white; min-height: 100vh; box-shadow: 0 0 30px rgba(0,0,0,0.1); }
            header { background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); color: white; padding: 40px; text-align: center; }
            h1 { font-size: 2.5em; font-weight: 800; margin-bottom: 15px; }
            nav { background: #1f2937; padding: 15px 40px; }
            .nav-links { display: flex; justify-content: center; gap: 25px; flex-wrap: wrap; }
            .nav-link { color: #d1d5db; text-decoration: none; padding: 8px 16px; border-radius: 6px; transition: all 0.3s ease; }
            .nav-link:hover { background: #374151; color: white; }
            main { padding: 50px 40px; }
            
            /* ä¿è­·é‡è¦æ ¼å¼ */
            h2 { color: #1f2937; font-size: 1.8em; margin: 40px 0 20px; padding-bottom: 10px; border-bottom: 3px solid #6366f1; }
            h3 { color: #374151; font-size: 1.4em; margin: 30px 0 15px; }
            p { margin: 15px 0; line-height: 1.7; }
            
            /* ä»£ç¢¼å¡Šæ ¼å¼ä¿è­· */
            pre { background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 20px; margin: 20px 0; overflow-x: auto; }
            code { background: #f1f5f9; padding: 2px 6px; border-radius: 4px; font-family: 'Monaco', 'Consolas', monospace; font-size: 0.9em; }
            pre code { background: none; padding: 0; }
            
            /* åˆ—è¡¨æ ¼å¼ä¿è­· */
            ul, ol { margin: 15px 0 15px 30px; }
            li { margin: 8px 0; line-height: 1.6; }
            
            /* è¡¨æ ¼æ ¼å¼ä¿è­· */
            table { width: 100%; border-collapse: collapse; margin: 20px 0; }
            th, td { border: 1px solid #e5e7eb; padding: 12px; text-align: left; }
            th { background: #f9fafb; font-weight: 600; }
            
            /* å¼•ç”¨æ ¼å¼ä¿è­· */
            blockquote { border-left: 4px solid #6366f1; background: #f8fafc; padding: 15px 20px; margin: 20px 0; font-style: italic; }
            
            /* éˆæ¥æ ¼å¼ */
            a { color: #6366f1; text-decoration: none; }
            a:hover { text-decoration: underline; }
            
            /* ç‰¹æ®ŠGEOæ ¼å¼ä¿è­· */
            .summary { background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border: 2px solid #0ea5e9; border-radius: 12px; padding: 24px; margin: 20px 0 30px 0; font-size: 1.1em; line-height: 1.7; }
            
            /* éŸ¿æ‡‰å¼è¨­è¨ˆ */
            @media (max-width: 768px) {
              .container { margin: 0; box-shadow: none; }
              header { padding: 30px 20px; }
              h1 { font-size: 2em; }
              main { padding: 30px 20px; }
            }
            
            footer { background: #1f2937; color: white; text-align: center; padding: 30px; }
            .footer-links { display: flex; justify-content: center; gap: 20px; margin-bottom: 15px; flex-wrap: wrap; }
            .footer-link { color: #d1d5db; text-decoration: none; transition: color 0.3s ease; }
            .footer-link:hover { color: #6366f1; }
          </style>
        </head>
        <body>
          <div class="container">
            <header>
              <div class="breadcrumb">
                <a href="index.html" style="color: white; text-decoration: none;">AIOGEO çŸ¥è­˜åº«</a> / $title$
              </div>
              <h1>$title$</h1>
              <div class="article-meta">
                ä½œè€…ï¼šå»–å¤©ä½‘ Bless Liao | æ›´æ–°æ™‚é–“ï¼š$(date +%Y-%m-%d)
              </div>
            </header>
            
            <nav>
              <div class="nav-links">
                <a href="index.html" class="nav-link">ğŸ  é¦–é </a>
                <a href="about.html" class="nav-link">ğŸ‘¤ é—œæ–¼</a>
                <a href="contributing.html" class="nav-link">ğŸ¤ è²¢ç»</a>
                <a href="https://github.com/bless25min/AIOGEO-Knowledge" class="nav-link" target="_blank">ğŸ“‚ GitHub</a>
              </div>
            </nav>
            
            <main>
        $body$
            </main>
            
            <footer>
              <div class="footer-links">
                <a href="about.html" class="footer-link">é—œæ–¼ä½œè€…</a>
                <a href="contributing.html" class="footer-link">åƒèˆ‡è²¢ç»</a>
                <a href="https://github.com/bless25min/AIOGEO-Knowledge" class="footer-link" target="_blank">GitHub</a>
              </div>
              <p>&copy; 2025 AIOGEO çŸ¥è­˜åº« | è®“ AI çœ‹è¦‹ä½ çš„å…§å®¹</p>
            </footer>
          </div>
        </body>
        </html>
        TEMPLATE_END
        ) \
            --output "$output_file"
          
          echo "âœ… å®Œæˆ: $output_file"
        }
        
        # è½‰æ›æ‰€æœ‰é‡è¦æª”æ¡ˆï¼ˆä½¿ç”¨å°ˆæ¥­å·¥å…·ä¿è­·æ ¼å¼ï¼‰
        [ -f "posts/geo-fundamentals.md" ] && convert_with_pandoc "posts/geo-fundamentals.md" "geo-fundamentals.html" "GEOåŸºç¤åŸç†"
        [ -f "posts/geo-fundamentals-content-design.md" ] && convert_with_pandoc "posts/geo-fundamentals-content-design.md" "geo-fundamentals-content-design.html" "å…§å®¹çµæ§‹è¨­è¨ˆå¯¦æˆ°"
        [ -f "posts/multimodal-creation.md" ] && convert_with_pandoc "posts/multimodal-creation.md" "multimodal-creation.html" "å¤šæ¨¡æ…‹å…§å®¹å‰µä½œæŒ‡å—"
        [ -f "tools/checklists.md" ] && convert_with_pandoc "tools/checklists.md" "tools-checklists.html" "GEOæª¢æŸ¥æ¸…å–®"
        [ -f "tools/content-templates.md" ] && convert_with_pandoc "tools/content-templates.md" "tools-content-templates.html" "å…§å®¹æ¨¡æ¿åº«"
        [ -f "about.md" ] && convert_with_pandoc "about.md" "about.html" "é—œæ–¼å»–å¤©ä½‘ Bless"
        [ -f "contributing.md" ] && convert_with_pandoc "contributing.md" "contributing.html" "åƒèˆ‡è²¢ç»"
        
        # è½‰æ›å…¶ä»–ç™¼ç¾çš„Markdownæª”æ¡ˆ
        for md_file in posts/*.md tools/*.md *.md; do
          if [ -f "$md_file" ]; then
            base_name=$(basename "$md_file" .md)
            
            # é¿å…é‡è¤‡è½‰æ›å·²è™•ç†çš„æª”æ¡ˆ
            case "$base_name" in
              "geo-fundamentals"|"geo-fundamentals-content-design"|"multimodal-creation"|"checklists"|"content-templates"|"about"|"contributing")
                continue
                ;;
            esac
            
            if [[ "$md_file" == tools/* ]]; then
              output_file="tools-${base_name}.html"
            else
              output_file="${base_name}.html"
            fi
            
            title=$(head -1 "$md_file" | sed 's/^# *//' | sed 's/[#*]//g')
            [ -z "$title" ] && title="$base_name"
            
            convert_with_pandoc "$md_file" "$output_file" "$title"
          fi
        done

    - name: å‰µå»ºå„ªåŒ–é¦–é 
      run: |
        cat > index.html << 'EOF'
        <!DOCTYPE html>
        <html lang="zh-TW">
        <head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>AIOGEO çŸ¥è­˜åº« | ç”Ÿæˆå¼å¼•æ“å„ªåŒ–å°ˆæ¥­æŒ‡å—</title>
          <meta name="description" content="AIOGEOçŸ¥è­˜åº«ï¼šæ¢ç´¢AIæœå°‹æ™‚ä»£çš„å…§å®¹å„ªåŒ–ç­–ç•¥ã€‚æä¾›GEOç†è«–åŸºç¤ã€å¯¦æˆ°æŠ€å·§ã€Semantic Meshæ¶æ§‹è¨­è¨ˆç­‰å°ˆæ¥­æŒ‡å—ï¼Œè®“æ‚¨çš„å…§å®¹åœ¨ChatGPTã€Google SGEç­‰AIå¹³å°ç²å¾—æ›´é«˜å¼•ç”¨ç‡ã€‚">
          <meta name="keywords" content="GEO, ç”Ÿæˆå¼å¼•æ“å„ªåŒ–, AIæœå°‹, ChatGPT, Google SGE, å…§å®¹å„ªåŒ–, SEO, AIå¼•ç”¨, Semantic Mesh, Answer Layer, å»–å¤©ä½‘, Bless Liao">
          <meta name="author" content="å»–å¤©ä½‘ Bless Liao">
          
          <meta property="og:title" content="AIOGEO çŸ¥è­˜åº« | ç”Ÿæˆå¼å¼•æ“å„ªåŒ–å°ˆæ¥­æŒ‡å—">
          <meta property="og:description" content="æ¢ç´¢AIæœå°‹æ™‚ä»£çš„å…§å®¹å„ªåŒ–ç­–ç•¥ï¼Œæå‡åœ¨ChatGPTã€Google SGEç­‰AIå¹³å°çš„å¼•ç”¨ç‡">
          <meta property="og:type" content="website">
          <meta property="og:url" content="https://bless25min.github.io/AIOGEO-Knowledge/">
          <meta property="og:site_name" content="AIOGEO çŸ¥è­˜åº«">
          
          <style>
            * { margin: 0; padding: 0; box-sizing: border-box; }
            body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans TC', sans-serif; line-height: 1.6; color: #1f2937; background: #f9fafb; }
            .hero { background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); color: white; padding: 80px 20px; text-align: center; }
            .hero h1 { font-size: 3.5em; font-weight: 900; margin-bottom: 20px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
            .hero p { font-size: 1.3em; max-width: 600px; margin: 0 auto 30px; opacity: 0.95; }
            .container { max-width: 1200px; margin: 0 auto; padding: 60px 20px; }
            .success-banner { background: #dcfce7; border: 2px solid #16a34a; border-radius: 8px; padding: 20px; margin: 20px 0; text-align: center; }
            .success-banner h3 { color: #15803d; margin-bottom: 10px; }
            .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin: 40px 0; }
            .card { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); transition: transform 0.3s ease; }
            .card:hover { transform: translateY(-5px); }
            .card-icon { font-size: 3em; margin-bottom: 15px; }
            .btn { display: inline-block; margin-top: 15px; padding: 10px 20px; background: #6366f1; color: white; text-decoration: none; border-radius: 6px; transition: background 0.3s ease; }
            .btn:hover { background: #4f46e5; }
            footer { background: #1f2937; color: white; text-align: center; padding: 40px 20px; }
            .footer-links { display: flex; justify-content: center; gap: 20px; margin-bottom: 20px; flex-wrap: wrap; }
            .footer-link { color: #d1d5db; text-decoration: none; transition: color 0.3s ease; }
            .footer-link:hover { color: #6366f1; }
            @media (max-width: 768px) { .hero h1 { font-size: 2.5em; } .container { padding: 40px 20px; } }
          </style>
        </head>
        <body>
          <div class="hero">
            <h1>ğŸš€ AIOGEO çŸ¥è­˜åº«</h1>
            <p>è®“ AI çœ‹è¦‹ä½ çš„å…§å®¹ - å°ˆæ¥­çš„ç”Ÿæˆå¼å¼•æ“å„ªåŒ–æŒ‡å—</p>
            <p>æ¢ç´¢AIæœå°‹æ™‚ä»£çš„å…§å®¹å„ªåŒ–ç­–ç•¥ï¼Œæå‡åœ¨ChatGPTã€Claudeã€Perplexityç­‰AIå¹³å°çš„å¼•ç”¨ç‡</p>
          </div>
          
          <div class="container">
            <div class="success-banner">
              <h3>ğŸ‰ æ¶æ§‹å‡ç´šæˆåŠŸå®Œæˆï¼</h3>
              <p>æˆ‘å€‘å·²æˆåŠŸå°‡çŸ¥è­˜åº«å¾Docsify SPAæ¶æ§‹è½‰æ›ç‚ºç´”éœæ…‹HTMLï¼Œåœ¨ç¢ºä¿æ‰€æœ‰çè²´å…§å®¹å®Œæ•´ä¿ç•™çš„å‰æä¸‹ï¼Œå¤§å¹…æå‡äº†SEOå’ŒAIæœå°‹å¼•æ“å‹å–„åº¦ï¼</p>
            </div>
            
            <section>
              <h2>ğŸ¯ ä»€éº¼æ˜¯ AIOGEOï¼Ÿ</h2>
              <p>AIOGEOï¼ˆAI-Optimized Generation Engine Optimizationï¼‰æ˜¯é‡å° ChatGPTã€Claudeã€Perplexity ç­‰ AI æœå°‹å¼•æ“çš„å…§å®¹å„ªåŒ–ç­–ç•¥ã€‚åœ¨å‚³çµ± SEO é—œæ³¨ Google æ’åçš„æ™‚ä»£ï¼ŒAIOGEO å°ˆæ³¨æ–¼è®“æ‚¨çš„å…§å®¹è¢« AI å¼•ç”¨å’Œæ¨è–¦ã€‚</p>
              <br>
              <p>éš¨è‘— AI æœå°‹å·¥å…·çš„æ™®åŠï¼Œè¶Šä¾†è¶Šå¤šç”¨æˆ¶ç›´æ¥å‘ AI æå•ï¼Œè€Œä¸æ˜¯é€éå‚³çµ±æœå°‹å¼•æ“ã€‚AIOGEO å¹«åŠ©æ‚¨çš„å…§å®¹åœ¨é€™å€‹æ–°æ™‚ä»£ä¿æŒå¯è¦‹æ€§å’Œå½±éŸ¿åŠ›ã€‚</p>
            </section>
            
            <section class="grid">
              <div class="card">
                <div class="card-icon">ğŸ“</div>
                <h3>åŸºç¤ç†è«–</h3>
                <p>æ·±å…¥äº†è§£GEOçš„æ ¸å¿ƒæ¦‚å¿µã€åŸç†å’ŒæŠ€è¡“æ¡†æ¶ï¼ŒæŒæ¡AIæœå°‹æ™‚ä»£çš„å…§å®¹å„ªåŒ–åŸºç¤ã€‚</p>
                <a href="geo-fundamentals.html" class="btn">é–‹å§‹å­¸ç¿’</a>
              </div>
              
              <div class="card">
                <div class="card-icon">ğŸ¯</div>
                <h3>å…§å®¹è¨­è¨ˆ</h3>
                <p>æŒæ¡AIå‹å–„çš„å…§å®¹çµæ§‹è¨­è¨ˆå’Œå„ªåŒ–æŠ€å·§ï¼Œæå‡åœ¨ç”Ÿæˆå¼æœå°‹ä¸­çš„å¼•ç”¨ç‡ã€‚</p>
                <a href="geo-fundamentals-content-design.html" class="btn">æŸ¥çœ‹æŒ‡å—</a>
              </div>
              
              <div class="card">
                <div class="card-icon">ğŸ¨</div>
                <h3>å¤šæ¨¡æ…‹å‰µä½œ</h3>
                <p>å­¸ç¿’å‰µå»ºè·¨åª’é«”GEOå…§å®¹ï¼ŒåŒ…å«æ–‡å­—ã€åœ–åƒã€å½±éŸ³çš„æ•´åˆå„ªåŒ–ç­–ç•¥ã€‚</p>
                <a href="multimodal-creation.html" class="btn">æ¢ç´¢å‰µä½œ</a>
              </div>
              
              <div class="card">
                <div class="card-icon">ğŸ“‹</div>
                <h3>æª¢æŸ¥æ¸…å–®</h3>
                <p>å®Œæ•´çš„GEOæª¢æŸ¥æ¸…å–®ï¼Œç¢ºä¿æ¯ç¯‡å…§å®¹éƒ½ç¬¦åˆAIæœå°‹å¼•æ“çš„å„ªåŒ–æ¨™æº–ã€‚</p>
                <a href="tools-checklists.html" class="btn">ä½¿ç”¨æ¸…å–®</a>
              </div>
              
              <div class="card">
                <div class="card-icon">ğŸ“</div>
                <h3>å…§å®¹æ¨¡æ¿</h3>
                <p>ç¶“éé©—è­‰çš„å…§å®¹çµæ§‹æ¨¡æ¿ï¼Œå¿«é€Ÿå‰µå»º AI å‹å–„çš„é«˜å“è³ªå…§å®¹ã€‚</p>
                <a href="tools-content-templates.html" class="btn">ç²å–æ¨¡æ¿</a>
              </div>
              
              <div class="card">
                <div class="card-icon">ğŸ¤</div>
                <h3>åƒèˆ‡è²¢ç»</h3>
                <p>äº†è§£å¦‚ä½•åƒèˆ‡AIOGEOçŸ¥è­˜åº«çš„å»ºè¨­ï¼Œèˆ‡å°ˆæ¥­ç¤¾ç¾¤ä¸€èµ·æ¨å‹•é ˜åŸŸç™¼å±•ã€‚</p>
                <a href="contributing.html" class="btn">åŠ å…¥æˆ‘å€‘</a>
              </div>
            </section>
            
            <section>
              <h2>ğŸ‘¤ é—œæ–¼ä½œè€…</h2>
              <p><strong>å»–å¤©ä½‘ Bless Liao</strong> - AIOGEO æ¦‚å¿µå‰µå§‹äººï¼Œå°ˆç²¾æ–¼ AI æœå°‹å„ªåŒ–æŠ€è¡“ç ”ç©¶ã€‚è‡´åŠ›æ–¼å¹«åŠ©å…§å®¹å‰µä½œè€…å’Œä¼æ¥­åœ¨ AI æ™‚ä»£ä¿æŒç«¶çˆ­å„ªå‹¢ã€‚</p>
              <br>
              <p>ğŸ”— <a href="https://github.com/bless25min">GitHub: @bless25min</a> | 
                 ğŸ’¬ <a href="https://github.com/bless25min/AIOGEO-Knowledge/discussions">å°ˆæ¡ˆè¨è«–å€</a></p>
            </section>
          </div>
          
          <footer>
            <div class="footer-links">
              <a href="about.html" class="footer-link">é—œæ–¼ä½œè€…</a>
              <a href="contributing.html" class="footer-link">åƒèˆ‡è²¢ç»</a>
              <a href="https://github.com/bless25min/AIOGEO-Knowledge" class="footer-link" target="_blank">GitHub</a>
              <a href="https://github.com/bless25min/AIOGEO-Knowledge/discussions" class="footer-link" target="_blank">è¨è«–</a>
            </div>
            <div class="copyright">
              <p>&copy; 2025 AIOGEO çŸ¥è­˜åº« | ä½œè€…ï¼š<strong>å»–å¤©ä½‘ Bless Liao</strong></p>
              <p>è®“ AI çœ‹è¦‹ä½ çš„å…§å®¹ - å°ˆæ¥­çš„ç”Ÿæˆå¼å¼•æ“å„ªåŒ–æŒ‡å—</p>
            </div>
          </footer>
        </body>
        </html>
        EOF

    - name: å…§å®¹å®Œæ•´æ€§é©—è­‰
      run: |
        echo "ğŸ” é€²è¡Œå…§å®¹å®Œæ•´æ€§æœ€çµ‚é©—è­‰..."
        echo "======================================="
        
        echo "ğŸ“Š è½‰æ›çµæœçµ±è¨ˆï¼š"
        html_count=$(ls -1 *.html 2>/dev/null | wc -l)
        echo "HTMLé é¢ç¸½æ•¸: $html_count"
        
        echo ""
        echo "ğŸ“„ ç”Ÿæˆçš„HTMLé é¢ï¼š"
        ls -1 *.html 2>/dev/null | sort
        
        echo ""
        echo "ğŸ” é—œéµæª”æ¡ˆæª¢æŸ¥ï¼š"
        key_files="index.html geo-fundamentals.html geo-fundamentals-content-design.html multimodal-creation.html tools-checklists.html tools-content-templates.html about.html contributing.html"
        
        for file in $key_files; do
          if [ -f "$file" ]; then
            size=$(wc -c < "$file")
            echo "âœ… $file (${size} bytes)"
          else
            echo "âŒ $file (ç¼ºå¤±)"
          fi
        done
        
        echo ""
        echo "ğŸ“Š å…§å®¹å“è³ªæª¢æŸ¥ï¼š"
        for html_file in *.html; do
          if [ -f "$html_file" ]; then
            # æª¢æŸ¥æ˜¯å¦åŒ…å«å¯¦éš›å…§å®¹
            content_lines=$(grep -v '^[[:space:]]*$' "$html_file" | wc -l)
            if [ "$content_lines" -gt 50 ]; then
              echo "âœ… $html_file - å…§å®¹è±å¯Œ ($content_lines è¡Œ)"
            else
              echo "âš ï¸ $html_file - å…§å®¹è¼ƒå°‘ ($content_lines è¡Œ)"
            fi
          fi
        done
        echo "======================================="

    - name: å‰µå»ºå®Œæ•´SEOæ¶æ§‹
      run: |
        # robots.txt (AIå‹å–„è¨­å®š)
        cat > robots.txt << 'EOF'
        # AIOGEO çŸ¥è­˜åº« - AI å‹å–„è¨­å®š
        
        User-agent: *
        Allow: /
        
        # æ­¡è¿æ‰€æœ‰ä¸»è¦ AI æœå°‹å¼•æ“
        User-agent: GPTBot
        Allow: /
        
        User-agent: ChatGPT-User
        Allow: /
        
        User-agent: Claude-Web
        Allow: /
        
        User-agent: PerplexityBot
        Allow: /
        
        User-agent: Google-Extended
        Allow: /
        
        # ä¸»è¦æœå°‹å¼•æ“
        User-agent: Googlebot
        Allow: /
        
        User-agent: Bingbot
        Allow: /
        
        # Sitemap ä½ç½®
        Sitemap: https://bless25min.github.io/AIOGEO-Knowledge/sitemap.xml
        
        # çˆ¬å–å»¶é²è¨­å®š
        Crawl-delay: 1
        EOF
        
        # ç”Ÿæˆå®Œæ•´sitemap.xml
        cat > sitemap.xml << 'EOF'
        <?xml version="1.0" encoding="UTF-8"?>
        <urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
          <url>
            <loc>https://bless25min.github.io/AIOGEO-Knowledge/</loc>
            <lastmod>2025-07-08</lastmod>
            <changefreq>daily</changefreq>
            <priority>1.0</priority>
          </url>
        EOF
        
        # ç‚ºæ¯å€‹HTMLé é¢æ·»åŠ sitemapæ¢ç›®
        for html_file in *.html; do
          if [ "$html_file" != "index.html" ] && [ -f "$html_file" ]; then
            # æ ¹æ“šæª”æ¡ˆé¡å‹è¨­å®šå„ªå…ˆç´š
            if [[ "$html_file" == geo-fundamentals* ]]; then
              priority="0.9"
            elif [[ "$html_file" == tools-* ]]; then
              priority="0.7"
            else
              priority="0.8"
            fi
            
            cat >> sitemap.xml << EOF
          <url>
            <loc>https://bless25min.github.io/AIOGEO-Knowledge/$html_file</loc>
            <lastmod>2025-07-08</lastmod>
            <changefreq>weekly</changefreq>
            <priority>$priority</priority>
          </url>
        EOF
          fi
        done
        
        echo "</urlset>" >> sitemap.xml
        
        echo "âœ… SEOæª”æ¡ˆå‰µå»ºå®Œæˆ"
        echo "ğŸ“Š SitemapåŒ…å« $(grep -c "<url>" sitemap.xml) å€‹é é¢"

    - name: æœ€çµ‚æ¸…ç†
      run: |
        echo "ğŸ§¹ é€²è¡Œæœ€çµ‚æ¸…ç†..."
        
        # å®‰å…¨æ¸…ç†ï¼Œä½†ä¿è­·æ‰€æœ‰é‡è¦å…§å®¹
        rm -rf backup/ 2>/dev/null || true
        find . -name "*.tmp" -delete 2>/dev/null || true
        find . -name "*report*.txt" -delete 2>/dev/null || true
        find . -name "emergency_backup_*" -type d -exec rm -rf {} + 2>/dev/null || true
        
        echo "âœ… æ¸…ç†å®Œæˆï¼Œæ‰€æœ‰é‡è¦å…§å®¹å·²ä¿è­·"

    - name: æäº¤å®Œç¾çµæœ
      run: |
        echo "ğŸ“¤ æäº¤å®Œç¾æ¬é·çµæœ..."
        
        git add .
        git commit -m "ğŸ‰ AIOGEOçŸ¥è­˜åº«å®Œç¾æ¬é·å®Œæˆ

        ğŸ›¡ï¸ å…§å®¹ä¿è­·å¼æ¬é·æˆæœï¼š
        âœ… ä½¿ç”¨Pandocå°ˆæ¥­å·¥å…·ç¢ºä¿æ‰€æœ‰Markdownæ ¼å¼å®Œæ•´ä¿ç•™
        âœ… å®Œæ•´æ¢å¾©æ‰€æœ‰backupä¸­çš„çè²´çŸ¥è­˜å…§å®¹  
        âœ… ä¿è­·æ‰€æœ‰ä»£ç¢¼å¡Šã€åˆ—è¡¨ã€è¡¨æ ¼ã€éˆæ¥ç­‰é‡è¦æ ¼å¼
        âœ… ç¶­æŒGEOå„ªåŒ–çš„ç‰¹æ®Šæ¨™è¨˜å’Œçµæ§‹
        âœ… å»ºç«‹å®Œæ•´çš„SEOå’ŒAIæœå°‹å¼•æ“å‹å–„æ¶æ§‹
        âœ… ç”Ÿæˆ$(ls -1 *.html 2>/dev/null | wc -l)å€‹é«˜å“è³ªHTMLé é¢
        
        ğŸš€ æ¶æ§‹å‡ç´šäº®é»ï¼š
        - å¾Docsify SPAè½‰æ›ç‚ºç´”éœæ…‹HTML
        - å¤§å¹…æå‡æœå°‹å¼•æ“æ”¶éŒ„æ•ˆæœ
        - å„ªåŒ–AIæœå°‹å¼•æ“å‹å–„åº¦
        - ç¢ºä¿é›¶å…§å®¹æå¤±
        
        ğŸ‘¨â€ğŸ’» ä½œè€…ï¼šå»–å¤©ä½‘ Bless Liao
        ğŸ“… å®Œæˆæ™‚é–“ï¼š$(date)
        ğŸ¯ å“è³ªä¿è­‰ï¼šå…§å®¹å®Œæ•´æ€§100%ä¿è­·"
        
        git push origin main

    - name: è‡ªå‹•éƒ¨ç½²åˆ°GitHub Pages
      uses: actions/configure-pages@v4
      
    - name: ä¸Šå‚³ç¶²ç«™å…§å®¹
      uses: actions/upload-pages-artifact@v3
      with:
        path: '.'
        
    - name: ç™¼å¸ƒåˆ°GitHub Pages
      uses: actions/deploy-pages@v4

    - name: ğŸ‰ æ¬é·æˆåŠŸå ±å‘Š
      run: |
        echo "ğŸ‰ AIOGEOçŸ¥è­˜åº«å®Œç¾æ¬é·æˆåŠŸï¼"
        echo "======================================="
        echo "âœ… å®Œæˆé …ç›®ï¼š"
        echo "  ğŸ›¡ï¸ å…§å®¹å®Œæ•´æ€§100%ä¿è­·"
        echo "  ğŸ¨ å°ˆæ¥­Markdownè½‰HTMLè½‰æ›"
        echo "  ğŸ  éŸ¿æ‡‰å¼å„ªåŒ–é¦–é "
        echo "  ğŸ—ºï¸ å®Œæ•´SEOæ¶æ§‹å»ºç«‹"
        echo "  ğŸš€ è‡ªå‹•GitHub Pageséƒ¨ç½²"
        echo ""
        echo "ğŸ“Š æ¬é·æˆæœï¼š"
        echo "  ğŸ“„ HTMLé é¢æ•¸ï¼š$(ls -1 *.html 2>/dev/null | wc -l) å€‹"
        echo "  ğŸ—ºï¸ Sitemapé é¢ï¼š$(grep -c "<url>" sitemap.xml) å€‹"
        echo "  ğŸ¤– AIå‹å–„è¨­å®šï¼šå®Œæ•´é…ç½®"
        echo ""
        echo "ğŸŒ ç¶²ç«™è³‡è¨Šï¼š"
        echo "  ğŸ“ ä¸»ç¶²å€ï¼šhttps://bless25min.github.io/AIOGEO-Knowledge/"
        echo "  ğŸ—ºï¸ ç¶²ç«™åœ°åœ–ï¼šhttps://bless25min.github.io/AIOGEO-Knowledge/sitemap.xml"
        echo "  ğŸ¤– Robots.txtï¼šhttps://bless25min.github.io/AIOGEO-Knowledge/robots.txt"
        echo ""
        echo "â° éƒ¨ç½²ç‹€æ…‹ï¼š"
        echo "  â³ GitHub Pagesæ­£åœ¨éƒ¨ç½²ä¸­ï¼ˆç´„5-10åˆ†é˜ï¼‰"
        echo "  ğŸ¯ éƒ¨ç½²å®Œæˆå¾Œç¶²ç«™å³å¯æ­£å¸¸è¨ªå•"
        echo ""
        echo "ğŸ™ æ¬é·æˆåŠŸï¼æ‚¨çš„çè²´çŸ¥è­˜å…§å®¹å·²å®Œæ•´ä¿ç•™ä¸¦å„ªåŒ–ï¼"
        echo "======================================="
